{"version":3,"sources":["sif-rmalias.es6"],"names":[],"mappings":";;AAEA,YAAY,CAAC;;;;;;;;;;;;;;;;;;;;;yBAmBO,WAAW;;;;sBACZ,QAAQ;;;;6BACL,eAAe;;kBACgC,IAAI;;8BAC9B,qBAAqB;;8BACjB,qBAAqB;;kCACpC,yBAAyB;;AAEzD,uBAAQ,KAAK,CAAE,OAAO,CAAC,IAAI,CAAE,CAAC;;AAE9B,IAAM,OAAO,GAAG,SAAS,CAAC;;AAE1B,IAAI,IAAI,GAAG,uBAAQ,IAAI,CAAC;;AAExB,IAAI,SAAS,GAAG,EAAE,QAAQ,EAAE,MAAM,EAAE,CAAC;;AAErC,IAAK,IAAI,CAAC,MAAM,GAAG,CAAC,EAAG;AACnB,wBAbY,UAAU,EAaf,OAAO,EAAE,oDAAoD,CAAE,CAAC;;AAEvE,WAAO,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;CACnB;;AAED,IAAI,KAAK,GAAG,uBAAQ,IAAI,CAAE,CAAC,CAAE,CAAC;;AAE9B,IAAI,GAAG,GAAG,mBAtBD,KAAK,EAsBG,KAAK,EAAE,iBAnBf,YAAY,CAmBmB,CAAE,CAAC;AAC3C,IAAI,KAAK,GAAG,yBAAQ,GAAG,CAAC,MAAM,CAAE,CAAC;;AAEjC,IAAI,UAAU,GAAG,QAxBkB,iBAAiB,kBAE7B,gBAAgB,EAsBG,SAAS,CAAE,CAAC;;AAEtD,KAAK,CAAC,EAAE,CAAE,MAAM,EAAE,UAAE,IAAI,EAAM;AAC1B,QAAI,IAAI,GAAG,IAAI,CAAC,QAAQ,EAAE,CAAC;AAC3B,QAAI,KAAK,GAAG,IAAI,CAAC,KAAK,qBAzBjB,eAAe,CAyBqB,CAAC;;AAE1C,QAAK,KAAK,CAAC,MAAM,KAAK,CAAC,EAAG;AAAE,eAAO;KAAE;;AAErC,QAAI,YAAY,GAAG,KAAK,CAAE,CAAC,CAAE,CAAC;;AAE9B,QAAK,YAAY,KAAK,KAAK,CAAC,IAAI,EAAE,EAAG;AAAE,eAAO;KAAE;;AAEhD,cAAU,CAAC,KAAK,CAAK,IAAI,QAAM,CAAC;CACnC,CAAE,CAAC;;AAEJ,UAAU,CAAC,EAAE,CAAE,QAAQ,EAAE,YAAM;AAC3B,YAxCK,gBAAgB,kBAEF,gBAAgB,EAsCX,SAAS,CAAE,CAC9B,IAAI,CAAE,QAzCoB,iBAAiB,kBAE3C,YAAY,EAuCe,SAAS,CAAE,CAAE,CACxC,EAAE,CAAE,QAAQ,EAAE;eAAM,oBAzCpB,KAAK,EAyCsB,OAAO,EAAE,OAAO,CAAE;KAAA,CAAE,CAAC;CACxD,CAAE,CAAC;;AAEJ,KAAK,CAAC,EAAE,CAAE,KAAK,EAAE;WAAM,UAAU,CAAC,GAAG,EAAE;CAAA,CAAE,CAAC","file":"sif-rmalias.js","sourcesContent":["#!/usr/bin/env node\n\n'use strict';\n\n/*    _,                            ,--.   ,---.\n *   /(_                     ,---.  `--'  /  .-'\n *  |   '-._        . ' .   (  .-'  ,--.  |  `-,\n *  \\    ,-.)      -= * =- .-'  `)  |  |  |  .-'\n *   \\((` .(        '/. '  `----'   `--'  `--'\n *    )\\  _/        /         just like magic\n * .-'   '--.      /\n * \\,         \\   /|\n *  ';,_) _)'\\ \\,//    This program is distributed\n *   `\\   (   '._/   under the terms of the MIT license.\n *    |  . '.\n *    |      \\   Please see the `LICENSE.md` file for details.\n *    |  \\|   |\n *     \\  |  /    Send your comments and suggestions to…\n *      '.| /      <https://github.com/v0lkan/sif/issues>.\n */\n\nimport program from 'commander';\nimport byline from 'byline';\nimport { spawn } from 'child_process';\nimport { createReadStream as read, createWriteStream as write } from 'fs';\nimport { print, printError as error } from '../lib/terminal/out';\nimport { ALIASES_FILE, ALIASES_TMP_FILE } from '../lib/config/files';\nimport { ALIAS_DELIMITER } from '../lib/config/constants';\n\nprogram.parse( process.argv );\n\nconst COMMAND = 'rmalias';\n\nlet args = program.args;\n\nlet fsOptions = { encoding: 'utf8' };\n\nif ( args.length < 1 ) {\n    error( 'alias', 'Invalid arguments. — Usage: \"sif rmalias <alias>\".' );\n\n    process.exit(1);\n}\n\nlet alias = program.args[ 0 ];\n\nlet cat = spawn( 'cat', [ ALIASES_FILE ] );\nlet lines = byline( cat.stdout );\n\nlet tempStream = write( ALIASES_TMP_FILE, fsOptions );\n\nlines.on( 'data', ( line ) => {\n    let text = line.toString();\n    let parts = text.split( ALIAS_DELIMITER );\n\n    if ( parts.length === 1 ) { return; }\n\n    let currentAlias = parts[ 0 ];\n\n    if ( currentAlias === alias.trim() ) { return; }\n\n    tempStream.write( `${text}\\n` );\n} );\n\ntempStream.on( 'finish', () => {\n    read( ALIASES_TMP_FILE, fsOptions )\n        .pipe( write( ALIASES_FILE, fsOptions ) )\n        .on( 'finish', () => print( COMMAND, 'Done!' ) );\n} );\n\nlines.on( 'end', () => tempStream.end() );\n"]}